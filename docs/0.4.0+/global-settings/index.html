<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-0.4.0+ docs-doc-page docs-doc-id-global-settings" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Global Settings | Touying</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://touying-typ.github.io/touying/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://touying-typ.github.io/touying/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://touying-typ.github.io/touying/docs/0.4.0+/global-settings"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="0.4.0+"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.4.0+"><meta data-rh="true" name="docsearch:version" content="0.4.0+"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.4.0+"><meta data-rh="true" property="og:title" content="Global Settings | Touying"><meta data-rh="true" name="description" content="Global Styles"><meta data-rh="true" property="og:description" content="Global Styles"><link data-rh="true" rel="icon" href="/touying/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://touying-typ.github.io/touying/docs/0.4.0+/global-settings"><link data-rh="true" rel="alternate" href="https://touying-typ.github.io/touying/docs/0.4.0+/global-settings" hreflang="en"><link data-rh="true" rel="alternate" href="https://touying-typ.github.io/touying/zh/docs/0.4.0+/global-settings" hreflang="zh"><link data-rh="true" rel="alternate" href="https://touying-typ.github.io/touying/docs/0.4.0+/global-settings" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/touying/blog/rss.xml" title="Touying RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/touying/blog/atom.xml" title="Touying Atom Feed"><link rel="stylesheet" href="/touying/assets/css/styles.48a5f804.css">
<script src="/touying/assets/js/runtime~main.f388136f.js" defer="defer"></script>
<script src="/touying/assets/js/main.0b6a3816.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/touying/"><div class="navbar__logo"><img src="/touying/img/logo.png" alt="Touying Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/touying/img/logo.png" alt="Touying Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Touying</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/touying/docs/0.4.0+/intro">Tutorial</a><a class="navbar__item navbar__link" href="/touying/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/touying/docs/0.4.0+/intro">0.4.0+</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/touying/docs/next/global-settings">Next</a></li><li><a class="dropdown__link" href="/touying/docs/global-settings">0.4.2</a></li><li><a class="dropdown__link" href="/touying/docs/0.4.1/global-settings">0.4.1</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/touying/docs/0.4.0+/global-settings">0.4.0+</a></li><li><a class="dropdown__link" href="/touying/docs/0.3.2+/global-settings">0.3.2+</a></li><li><a class="dropdown__link" href="/touying/docs/0.3.x/global-settings">0.3.x</a></li><li><a class="dropdown__link" href="/touying/docs/0.2.x/intro">0.2.x</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/touying/docs/0.4.0+/global-settings" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/touying/zh/docs/0.4.0+/global-settings" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li></ul></div><a href="https://github.com/touying-typ/touying" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/touying/docs/0.4.0+/intro">Introduction to Touying</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/touying/docs/0.4.0+/start">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/touying/docs/0.4.0+/sections">Sections and Subsections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/touying/docs/0.4.0+/code-styles">Code Style</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/touying/docs/0.4.0+/layout">Page Layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/touying/docs/0.4.0+/global-settings">Global Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/touying/docs/0.4.0+/multi-file">Multi-File Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/touying/docs/0.4.0+/category/dynamic-slides">Dynamic Slides</a><button aria-label="Expand sidebar category &#x27;Dynamic Slides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/touying/docs/0.4.0+/category/package-integration">Package Integration</a><button aria-label="Expand sidebar category &#x27;Package Integration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/touying/docs/0.4.0+/category/themes">Themes</a><button aria-label="Expand sidebar category &#x27;Themes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/touying/docs/0.4.0+/build-your-own-theme">Creating Your Own Theme</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/touying/docs/0.4.0+/category/progress">Progress</a><button aria-label="Expand sidebar category &#x27;Progress&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/touying/docs/0.4.0+/category/utilities">Utilities</a><button aria-label="Expand sidebar category &#x27;Utilities&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/touying/docs/0.4.0+/changelog">Changelog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/touying/docs/0.4.0+/category/external-tools">External Tools</a><button aria-label="Expand sidebar category &#x27;External Tools&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Touying<!-- --> <b>0.4.0+</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/touying/docs/global-settings">latest version</a></b> (<!-- -->0.4.2<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/touying/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Global Settings</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.4.0+</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Global Settings</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="global-styles">Global Styles<a href="#global-styles" class="hash-link" aria-label="Direct link to Global Styles" title="Direct link to Global Styles">​</a></h2>
<p>For Touying, global styles refer to set rules or show rules that need to be applied everywhere, such as <code>#set text(size: 20pt)</code>.</p>
<p>Themes in Touying encapsulate some of their own global styles, which are placed in <code>#show: init</code>. For example, the university theme encapsulates the following:</p>
<div class="language-typst codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typst codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">self.methods.init = (self: none, body) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  set text(size: 25pt)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  show footnote.entry: set text(size: .6em)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  body</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you are not a theme creator but want to add your own global styles to your slides, you can simply place them after <code>#show: init</code> and before <code>#show: slides</code>. For example, the metropolis theme recommends adding the following global styles:</p>
<div class="language-typst codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typst codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#let s = themes.metropolis.register(aspect-ratio: &quot;16-9&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#let (init, slides, touying-outline, alert) = utils.methods(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#show: init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// global styles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#set text(font: &quot;Fira Sans&quot;, weight: &quot;light&quot;, size: 20pt)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#show math.equation: set text(font: &quot;Fira Math&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#set strong(delta: 100)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#set par(justify: true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#show strong: alert</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#let (slide, empty-slide, title-slide, new-section-slide, focus-slide) = utils.slides(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#show: slides</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>However, note that you should not use <code>#set page(..)</code>. Instead, modify <code>s.page-args</code> and <code>s.padding</code>, for example:</p>
<div class="language-typst codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typst codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#(s.page-args += (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  margin: (x: 0em, y: 2em),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  header: align(top)[Header],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  footer: align(bottom)[Footer],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  header-ascent: 0em,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  footer-descent: 0em,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#(s.padding += (x: 4em, y: 0em))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="global-information">Global Information<a href="#global-information" class="hash-link" aria-label="Direct link to Global Information" title="Direct link to Global Information">​</a></h2>
<p>Like Beamer, Touying, through an OOP-style unified API design, can help you better maintain global information, allowing you to easily switch between different themes. Global information is a typical example of this.</p>
<p>You can set the title, subtitle, author, date, and institution information for slides using:</p>
<div class="language-typst codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typst codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#let s = (s.methods.info)(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  self: s,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  title: [Title],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subtitle: [Subtitle],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  author: [Authors],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  date: datetime.today(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  institution: [Institution],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In subsequent slides, you can access them through <code>s.info</code> or <code>self.info</code>.</p>
<p>This information is generally used in the title-slide, header, and footer of the theme, for example:</p>
<div class="language-typst codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typst codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#let s = themes.metropolis.register(aspect-ratio: &quot;16-9&quot;, footer: self =&gt; self.info.institution)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>date</code> can accept <code>datetime</code> format or <code>content</code> format, and the display format for the <code>datetime</code> format can be changed using:</p>
<div class="language-typst codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typst codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#let s = (s.methods.datetime-format)(self: s, &quot;[year]-[month]-[day]&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Principle</div><div class="admonitionContent_BuS1"><p>Here, we will introduce a bit of OOP concept in Touying.</p><p>You should know that Typst is a typesetting language that supports incremental rendering, which means Typst caches the results of previous function calls. This requires that Typst consists of pure functions, meaning functions that do not change external variables. Thus, it is challenging to modify a global variable in the true sense, even with the use of <code>state</code> or <code>counter</code>. This would require the use of <code>locate</code> with callback functions to obtain the values inside, and this approach would have a significant impact on performance.</p><p>Touying does not use <code>state</code> or <code>counter</code> and does not violate the principle of pure functions in Typst. Instead, it uses a clever approach in an object-oriented style, maintaining a global singleton <code>s</code>. In Touying, an object refers to a Typst dictionary with its own member variables and methods. We agree that methods all have a named parameter <code>self</code> for passing the object itself, and methods are placed in the <code>.methods</code> domain. With this concept, it becomes easier to write methods to update <code>info</code>:</p><div class="language-typst codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typst codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#let s = (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  info: (:),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  methods: (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // update info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    info: (self: none, ..args) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      self.info += args.named()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      self</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#let s = (s.methods.info)(self: s, title: [title])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Title is #s.info.title</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now you can understand the purpose of the <code>utils.methods()</code> function: to bind <code>self</code> to all methods of <code>s</code> and return it, simplifying the subsequent usage through unpacking syntax.</p><div class="language-typst codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typst codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#let (init, slides, alert) = utils.methods(s)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="state-initialization">State Initialization<a href="#state-initialization" class="hash-link" aria-label="Direct link to State Initialization" title="Direct link to State Initialization">​</a></h2>
<p>In general, the two ways mentioned above are sufficient for adding global settings. However, there are still situations where we need to initialize counters or states. If you place this code before <code>#show: slides</code>, a blank page will be created, which is something we don&#x27;t want to see. In such cases, you can use the <code>s.methods.append-preamble</code> method. For example, when using the codly package:</p>
<div class="language-typst codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typst codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#import &quot;@preview/touying:0.4.0&quot;: *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#import &quot;@preview/codly:0.2.0&quot;: *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#let s = themes.simple.register(aspect-ratio: &quot;16-9&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#let s = (s.methods.append-preamble)(self: s)[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  #codly(languages: (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rust: (name: &quot;Rust&quot;, icon: &quot;\u{fa53}&quot;, color: rgb(&quot;#CE412B&quot;)),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#let (init, slides) = utils.methods(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#show heading.where(level: 2): set block(below: 1em)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#show: init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#show: codly-init.with()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#let (slide, empty-slide) = utils.slides(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#show: slides</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#slide[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  == First slide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  #raw(lang: &quot;rust&quot;, block: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`pub fn main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  println!(&quot;Hello, world!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}`.text)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img loading="lazy" src="https://github.com/touying-typ/touying/assets/34951714/0be2fbaf-cc03-4776-932f-259503d5e23a" alt="image" class="img_ev3q"></p>
<p>Or when configuring Pdfpc:</p>
<div class="language-typst codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typst codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Pdfpc configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// typst query --root . ./example.typ --field value --one &quot;&lt;pdfpc-file&gt;&quot; &gt; ./example.pdfpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#let s = (s.methods.append-preamble)(self: s, pdfpc.config(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  duration-minutes: 30,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  start-time: datetime(hour: 14, minute: 10, second: 0),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end-time: datetime(hour: 14, minute: 40, second: 0),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  last-minutes: 5,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  note-font-size: 12,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  disable-markdown: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default-transition: (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type: &quot;push&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    duration-seconds: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    angle: ltr,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    alignment: &quot;vertical&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    direction: &quot;inward&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/touying-typ/touying/tree/main/docs/versioned_docs/version-0.4.0+/global-settings.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/touying/docs/0.4.0+/layout"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Page Layout</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/touying/docs/0.4.0+/multi-file"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Multi-File Architecture</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#global-styles" class="table-of-contents__link toc-highlight">Global Styles</a></li><li><a href="#global-information" class="table-of-contents__link toc-highlight">Global Information</a></li><li><a href="#state-initialization" class="table-of-contents__link toc-highlight">State Initialization</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>